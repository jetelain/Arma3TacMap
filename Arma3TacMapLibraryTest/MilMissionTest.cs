using System;
using System.Collections.Generic;
using System.Text;
using System.Text.Json;
using Arma3TacMapLibrary.Maps;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace Arma3TacMapLibraryTest
{
    [TestClass]
    public class MilMissionTest
    {
        [TestMethod]
        public void MilMission_ToSeize()
        {
            var worker = new MilMission();

            var result = JsonSerializer.Serialize(worker.RenderMission("toSeize", new[] { new[] { 1000d, 1000d }, new[] { 1000d, 3000d } }, 50));

            Assert.AreEqual(@"{""Lines"":[[[1100,1000],[1098.7688340595137,1015.6434465040231],[1095.1056516295153,1030.9016994374947],[1089.1006524188367,1045.3990499739548],[1080.9016994374947,1058.7785252292474],[1070.7106781186549,1070.7106781186549],[1058.7785252292474,1080.9016994374947],[1045.3990499739548,1089.1006524188367],[1030.9016994374947,1095.1056516295153],[1015.6434465040231,1098.7688340595137],[1000,1100],[984.3565534959769,1098.7688340595137],[969.0983005625053,1095.1056516295153],[954.6009500260453,1089.1006524188367],[941.2214747707527,1080.9016994374947],[929.2893218813452,1070.7106781186549],[919.0983005625053,1058.7785252292474],[910.8993475811633,1045.3990499739548],[904.8943483704846,1030.9016994374947],[901.2311659404862,1015.6434465040231],[900,1000],[901.2311659404862,984.356553495977],[904.8943483704846,969.0983005625053],[910.8993475811632,954.6009500260453],[919.0983005625053,941.2214747707527],[929.2893218813452,929.2893218813452],[941.2214747707527,919.0983005625053],[954.6009500260453,910.8993475811633],[969.0983005625053,904.8943483704846],[984.3565534959769,901.2311659404862],[1000,900],[1015.643446504023,901.2311659404862],[1030.9016994374947,904.8943483704846],[1045.3990499739546,910.8993475811632],[1058.7785252292474,919.0983005625053],[1070.7106781186546,929.2893218813452],[1080.9016994374947,941.2214747707527],[1089.1006524188367,954.6009500260453],[1095.1056516295153,969.0983005625052],[1098.7688340595137,984.3565534959769],[1100,1000]],[[1067.8800496900844,1073.4322739268755],[1075.3764028547325,1081.541788600956],[1144.1227790291289,1168.7461510513326],[1205.8152576473424,1261.0754700644688],[1260.073484063861,1357.9605046860333],[1306.5629382701366,1458.8039264600418],[1344.9969973216748,1562.9840021574182],[1375.1387024638016,1669.8584269680964],[1396.8022200611808,1778.768284523765],[1409.853987323975,1889.0421093363914],[1414.2135357668553,2000.000026606239],[1409.853987323975,2110.957943876087],[1396.8022200611808,2221.2317686887136],[1375.1387024638016,2330.1416262443818],[1344.996997321675,2437.0160510550604],[1306.5629382701368,2541.1961267524366],[1260.0734840638615,2642.0395485264453],[1205.8152576473428,2738.92458314801],[1144.122779029129,2831.253902161146],[1075.376402854733,2918.4582646115227],[999.9999733937606,3000.0000266062393]],[[999.9999733937606,3000.0000266062393],[1049.961426535083,2998.037035766058]],[[999.9999733937606,3000.0000266062393],[998.0369825535793,2950.038572786116]]],""Labels"":[],""LabelsPoints"":[]}", result);

        }

    }
}
